<div class="table-container">
  <table class="table table-bordered table-hover">
    <tr>
      <th *ngFor="let column of columns">{{ column | titlecase }}</th>
      <th *ngIf="showActions">Ações</th>
    </tr>

    <tr *ngFor="let item of paginatedData">
      <td *ngFor="let column of columns">
        {{ truncateText(column, item) }}
      </td>
      <td *ngIf="showActions" class="actions-container">
        <button class="btn btn-warning" (click)="onEdit(item)">
          <i class="bi bi-pencil-fill"></i>
        </button>
        <button *ngIf="showDelete" class="btn btn-danger" (click)="onDelete(item)">
          <i class="bi bi-trash-fill"></i>
        </button>
        <div *ngIf="showOpcoes" class="dropdown">
          <button class="btn btn-secondary dropdown-button" (click)="toggleDropdown(item['id'])">
            Relatorios
          </button>
          <div class="dropdown-content" [ngClass]="{ 'show': dropdownOpen === item['id'] }">
            <a  (click)="gerarCartas2(item['id'], 'pericia-medica')">Carta de Perícia Médica</a>
            <a  (click)="gerarCartas2(item['id'], 'avaliacao-social')">Carta de Avaliação Social</a>
            <a (click)="gerarCartas2(item['id'], 'concessao')">Carta de Concessão</a>
          </div>
        </div>
      </td>
    </tr>
  </table>

  <nav>
    <ul>
      <li>
        <button
          class="button-step"
          (click)="prevPage()"
          [disabled]="currentPage === 1"
        >
          <i class="bi bi-caret-left-fill"></i>
        </button>
      </li>

      <li *ngFor="let page of visiblePages">
        <button
          *ngIf="page !== -1"
          (click)="changePage(page)"
          [class.active]="page === currentPage"
        >
          {{ page }}
        </button>
        <span *ngIf="page === -1">...</span>
      </li>

      <li>
        <button
          (click)="nextPage()"
          [disabled]="currentPage === totalPages"
          class="button-step"
        >
          <i class="bi bi-caret-right-fill"></i>
        </button>
      </li>
    </ul>
  </nav>
</div>
