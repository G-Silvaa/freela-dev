<div class="modal-header">
  <div class="info-modal">
    <h4 class="modal-title pull-left">Editar um usuario</h4>

   
  </div>
  <button >
    <i class="bi bi-x" style="font-size: 1.5rem" (click)="bsModalRef.hide()"></i>
  </button>
</div>

<div class="progress-bar">
  <div class="step" [class.active]="currentStep >= 1">Contato</div>
  <div class="line" [class.active]="currentStep >= 2"></div>
  <div class="step" [class.active]="currentStep >= 2">Dados</div>
  <div class="line" [class.active]="currentStep >= 3"></div>
  <div class="step" [class.active]="currentStep >= 3">Endereço</div>
  <div class="line" [class.active]="currentStep >= 4"></div>
  <div class="step" [class.active]="currentStep >= 4">Representante</div>
</div>

<form [formGroup]="form" >
  <div class="pt1" *ngIf="currentStep === 1">
    <div class="container-inputs">
      <app-input
        label="Nome:"
        placeholder="Digite seu nome:"
        formControlName="nome">
      </app-input>
    
      <app-input
        label="E-mail:"
        placeholder="Digite seu email:"
        formControlName="email">
      </app-input>
      <app-input
        label="Telefone:"
        placeholder="Digite seu telefone:"
        formControlName="telefone">
      </app-input>
    </div>
  </div>

  <div class="pt2" *ngIf="currentStep === 2">
    <div class="container-inputs">
      <app-input
        label="RG:"
        placeholder="Digite seu RG:"
        formControlName="rg">
      </app-input>

      <app-input
        label="CPF:"
        placeholder="Digite seu CPF:"
        formControlName="cpf">
      </app-input>

      <app-input
        label="Data De Nascimento:"
        placeholder="Digite sua data de nascimento:"
        formControlName="dataNascimento">
      </app-input>
    </div>
  </div>

  <div class="pt3" *ngIf="currentStep === 3">
    <div class="container-inputs">
      <div class="teste1">
        <app-input
        label="CEP:"
        placeholder="Digite seu CEP:"
        formControlName="cep">
      </app-input>

      <app-input
        label="Logradouro:"
        placeholder="Digite seu logradouro:"
        formControlName="logradouro">
      </app-input>
    
      <app-input
        label="Complemento:"
        placeholder="Digite seu complemento:"
        formControlName="complemento">
      </app-input>

      </div>
     <div class="teste2">
      <app-input
      label="Bairro:"
      placeholder="Digite seu bairro:"
      formControlName="bairro">
    </app-input>

    <app-input
      label="Cidade:"
      placeholder="Digite sua cidade:"
      formControlName="cidade">
    </app-input>

    <app-select-input 
      [label]="'Tem representante?'" 
      [options]="selectOptions" 
      [placeholder]="'Escolha uma opção'"
      formControlName="temRepresentante"
      (change)="onRepresentativeChange($event)">
    </app-select-input>
     </div>
     
    </div>
  </div>

  <div class="pt4" *ngIf="currentStep === 4 ">
    <div class="container-inputs">
      <h4>Contato</h4>
      <div class="container1">
        <app-input
        label="Nome do Representante:"
        placeholder="Digite o nome do representante:"
        formControlName="representanteNome"
        [maxlength]="200"
       >
      </app-input>

      <app-input
        label="E-mail do Representante:"
        placeholder="Digite o e-mail do representante:"
        formControlName="representanteEmail"
       
        [maxlength]="256"
     >
        
      </app-input>

      <app-input
        label="Telefone do Representante:"
        placeholder="Digite o telefone do representante:"
        formControlName="representanteTelefone"
        mask="(00) 00000-0000"
        [maxlength]="15"
        [clearIfNotMatch]="true"
       >
        
      </app-input>
      </div>
      <h4>Dados do parentesco</h4>
      <div class="container1">
        <app-input
        label="Parentesco:"
        placeholder="Digite o parentesco:"
        formControlName="parentesco"
        
        [maxlength]="30"
        >
        
      </app-input>
    
      <app-input
        label="CPF do Representante:"
        placeholder="Digite o CPF:"
        formControlName="representanteCpf"
        mask="000.000.000-00"
        [maxlength]="14"
        [clearIfNotMatch]="true"
        >
      </app-input>
      <app-input
        label="RG do Representante:"
        placeholder="Digite o RG:"
        mask="00.000.000-0"
        [maxlength]="12"
        [clearIfNotMatch]="true"
        formControlName="representanteRg"
       >
      </app-input>

    
      </div>
      <div class="t">
      <app-input
      label="Data de Nascimento:"
      mask="00/00/0000"
      [maxlength]="10"
      [clearIfNotMatch]="true"
      placeholder="Digite a data de nascimento:"
      formControlName="representanteDataNascimento"
      >
    </app-input>
  </div>

     
    </div>
  </div>
  
  <div class="footer-modal">
    <app-button variant="danger" width="100px" (click)="onCloseModal()">
      Fechar
    </app-button>
    <app-button
      width="100px"
      *ngIf="currentStep > 1"
      (click)="onPreviousStep()">
      Voltar
    </app-button>
    <app-button
      width="100px"
      *ngIf="currentStep < 4 && (currentStep !== 3 || form.get('temRepresentante')?.value === 'sim')"
      (click)="onNextStep()">
      Próximo
    </app-button>
    <app-button
    width="100px"
    *ngIf="currentStep === 4 || (currentStep === 3 && form.get('temRepresentante')?.value === 'nao')"
    [isLoading]="isLoading"
    (click)="onSubmit()">
    Salvar
  </app-button>
  </div>
</form>